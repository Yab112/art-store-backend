echo "ğŸš€ Running pre-push checks..."

# Check formatting with Prettier
npx prettier --check .
if [ $? -ne 0 ]; then
	echo "âŒ Prettier format check failed. Please format your code before pushing."
	exit 1
fi

# Run type checking
echo "ğŸ“ Type checking..."
pnpm run type-check
if [ $? -ne 0 ]; then
	echo "âŒ Type check failed. Please fix type errors before pushing."
	exit 1
fi

# Run linting
echo "ğŸ” Linting code..."
pnpm run lint:strict
if [ $? -ne 0 ]; then
	echo "âŒ Lint check failed. Please fix lint errors before pushing."
	exit 1
fi

# Run tests
echo "ğŸ§ª Running tests..."
pnpm run test:ci

echo "âœ… Pre-push checks passed!"
